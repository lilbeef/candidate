			# 面试工程文档说明

本工程基于正式生产项目为范本实现。


## 项目架构说明
项目总共分为5个module，在实际生产使用中，整个工程作为独立应用部署，接入注册中心后，提供stater的jar包给其他工程引入。
###### io
io模块主要负责管理dto/vo/exception等需要提供给外部工程引入的基础类。由于需求文档给出的示例，部分dto类和vo类未按照驼峰规则命名。而是按照xxx_xxx的格式命名。
###### api
api模块依赖io模块，主要负责管理可以向外部暴露的api接口。由于需求文档中暂未要求有外部工程应用，所以目前此模块中无实现。
###### core
core模块依赖io模块api模块，负责管理项目的核心业务逻辑以及数据库交互部分。处于保护核心逻辑代码等安全性设计，此模块不会被其他工程引入，在pom文件中设置了deploy时跳过。
###### server
server模块依赖server模块，负责管理和分发实际的请求。包括filter/aop等也在此模块中进行管理。前端请求以及其他工程通过引入api模块发送的请求会在次模块中进行管理。此模块不会被其他工程引入，在pom文件中设置了deploy时跳过。
###### starter
starter模块依赖io模块，api模块负责在由外部工程引入时的集合模块。由于需求文档中暂未要求有外部工程应用，所以目前此模块中无实现。
## 技术选型：
springboot
redis
pgsql
springaop
## 项目环境运行说明：
本工程必须依赖于redis以及pgsql运行，由于开发时使用的公司的redis&pgsql，处于安全原因在yml文件里抹除了地址。运行时请搭建一个redis以及pgsql，填入server中的yml文件。
## 请求方式说明：
curl --header "Content-Type: application/json" \
  --request POST \
  --data '{"skill_name": "smart contracts", "appid": "sxy123456", "page":1, "page_size": 5}' \
  http://IpAddress/search_candidates
###### 注意事项
由于需求文档未提及用户鉴权管理等功能，所以appid固定值为“sxy123456”。根据实际情况拓展。
根据需求文档中的返回示例，在请求成功时并未按照正常的代码规范做统一的格式化处理，仅在请求失败的情况下做了统一的格式化处理，格式如下：
{
    "code": 9500,
    "msg": "未登录或授权不正确！",
    "data": null
}
## 鉴权部分说明：
鉴权部分暂未按照实际生产的鉴权模块实行，因为实际的鉴权例如spring security:需要一个登录->颁发token的过程。而需求文档仅存在appid，并未有登录相关的要求，故使用简单的aop校验appid作为鉴权实现。
## 缓存实现：
分页缓存基于redis的zsort实现，在项目启动时runner会自动初始化缓存，查询时基于缓存命中则直接返回，未命中则尝试请求数据库并且添加缓存的逻辑。
由于需求文档中并未明确是否存在更新/新增/删除用户，也并未有相关的api接口开放，故暂无更新缓存的实现部分。仅有新增/查询缓存的功能。
## 测试模块：
单元测试UT位于core模块中。使用junit5作为测试框架。
## 数据库脚本：
提供数据库脚本建表sql，详情见sql脚本文件。

### End
			
